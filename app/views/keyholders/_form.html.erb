<%= javascript_include_tag "key-password-fields" %>

<%= form_for(@keyholder) do |f| %>
  <% if @keyholder.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@keyholder.errors.count, "error") %> prohibited this keyholder from being saved:</h2>

      <ul>
      <% @keyholder.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  
  <span>Required fields are marked with a *</span>
  <div class="field">
    <%= f.label :username %><br />
    <%= f.text_field :username %>
  </div>
  <div class="field" id="key_pw_field">
  	<div id="key_pw_btn" class="btn btn-info">Change Password</div>
  </div>
  <div id="key_pw">
	  <div class="field">
	    <%= f.label :new_password %><br />
	    <%= f.password_field :password, :autocomplete => "off" %>
	  </div>
	
	  <div class="field">
	    <%= f.label :password_confirmation %><br />
	    <%= f.password_field :password_confirmation %>
	  </div>
	
  </div>
  <div class="field">
    <%= f.label :email %><br />
    <%= f.text_field :email %>
  </div>
  <div class="field">
    <%= f.label :first_name %><br />
    <%= f.text_field :first_name %>
  </div>
  <div class="field">
    <%= f.label :last_name %><br />
    <%= f.text_field :last_name %>
  </div>
  <div class="field">
    <%= f.label :house_name_or_number %><br />
    <%= f.text_field :house %>
  </div>
  <div class="field">
    <%= f.label :postcode %><br />
    <%= f.text_field :postcode %>
  </div>
  <div class="actions field">
    <%= f.submit 'Update Keyholder', :class => "btn btn-success" %>
  </div>
<% end %>

